<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Website Status Checker</title>
</head>
<body>
    <h1>Website Status Checker</h1>
    <p>Status wird überprüft und an Discord gesendet...</p>

    <script>
        // Hier Discord Webhook-URL einfügen
        const discordWebhookUrl = "https://discord.com/api/webhooks/WEBHOOK_ID/WEBHOOK_TOKEN";

        // Beispiel einer Funktion, die den Website-Status überprüft
        async function checkWebsiteStatus() {
            const statusData = {
                operational: true,
                tabs: [
                    { name: "Home", operational: true },
                    { name: "Login", operational: true },
                    { name: "API", operational: false }
                ],
                uptime: "99.9%",
                lastUpdate: new Date().toLocaleString()
            };

            // In echtem Einsatz hier eine API-Anfrage zur Status-API der Website durchführen
            // Beispiel:
            // const response = await fetch("https://example.com/status");
            // const statusData = await response.json();

            return statusData;
        }

        // Funktion zum Senden an Discord
        async function sendStatusToDiscord(statusData) {
            const message = {
                content: "Website Status Update",
                embeds: [{
                    title: "Website Status",
                    color: statusData.operational ? 3066993 : 15158332, // grün für OK, rot für Fehler
                    fields: [
                        { name: "Laufzeit", value: statusData.uptime, inline: true },
                        { name: "Letztes Update", value: statusData.lastUpdate, inline: true },
                        { name: "Operational", value: statusData.operational ? "Ja" : "Nein" }
                    ],
                    footer: { text: "Website Status Checker" },
                    timestamp: new Date().toISOString()
                }]
            };

            // Tabs-Status als separate Felder hinzufügen
            statusData.tabs.forEach(tab => {
                message.embeds[0].fields.push({
                    name: `Tab: ${tab.name}`,
                    value: tab.operational ? "Operational" : "Nicht verfügbar",
                    inline: true
                });
            });

            // Webhook an Discord senden
            await fetch(discordWebhookUrl, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(message)
            });
        }

        // Hauptfunktion, um Status zu prüfen und zu senden
        async function updateStatus() {
            const statusData = await checkWebsiteStatus();
            await sendStatusToDiscord(statusData);
        }

        // Status alle 10 Minuten aktualisieren
        setInterval(updateStatus, 600000);
        updateStatus(); // Initialer Aufruf beim Laden der Seite
    </script>
</body>
</html>
